"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[304],{48304:function(e,i,t){t.r(i),t.d(i,{default:function(){return k}});var n=t(41806),l=t(61113),a=t(47825),r=t(42832),o=t(73428),s=t(85582),c=t(17592),d=t(17551),x=t(75419),p=t(85833),h=(t(70816),t(47313)),u=t(97890),m=t(6210),g=t(67662),v=(t(98616),t(3463),t(31387),t(35460)),j=(t(78830),t(46417));t(13997);(0,c.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});var Z=t(23195),y=t(9019),S=t(31095),f=t(66149),b=t(4117),P=t(96467),w=t(97762),_=t(33604);var C=e=>{const{open:i,handleClose:t,data:n}=e;return console.log({data:n}),(0,j.jsxs)(f.Z,{open:i,onClose:t,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,j.jsxs)(_.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,j.jsx)(l.Z,{style:{textTransform:"capitalize"},variant:"h2",children:null===n||void 0===n?void 0:n.name}),(0,j.jsx)(l.Z,{children:(0,j.jsx)(Z.Z,{onClick:t,style:{cursor:"pointer"}})})]}),(0,j.jsx)(P.Z,{dividers:!0,children:(0,j.jsxs)(w.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,j.jsx)(l.Z,{style:{marginBottom:"15px"},variant:"h4",children:"Basic Information"}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Email"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.email_address})})]}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Budget"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.budget})})]}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Lead Quality Score"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.lead_quality_score})})]}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Other Requirements"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.other_requirements})})]}),(0,j.jsx)(l.Z,{style:{marginBottom:"15px"},variant:"h4",children:"Property Information"}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Description"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_description})})]}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Location"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_location})})]}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Market Type"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_market_type})})]}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Purpose"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_purpose})})]}),(0,j.jsxs)(y.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,j.jsx)(y.ZP,{item:!0,xs:4,children:(0,j.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Size"})}),(0,j.jsx)(y.ZP,{item:!0,xs:8,children:(0,j.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_sizes})})]})]})}),(0,j.jsx)(b.Z,{children:(0,j.jsx)(S.Z,{onClick:t,variant:"contained",sx:{backgroundColor:v.Z.info,"&:hover":{backgroundColor:v.Z.infoDark}},children:"Close"})})]})};(0,c.ZP)((e=>(0,j.jsx)(s.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:i}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:i.spacing(1),minWidth:180,color:"light"===i.palette.mode?"rgb(55, 65, 81)":i.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:i.palette.text.secondary,marginRight:i.spacing(1.5)},"&:active":{backgroundColor:(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)}}}}}));var k=()=>{(0,u.s0)();const[e,i]=(0,h.useState)(!1),[t,s]=(0,h.useState)(!1),[c,d]=(0,h.useState)(null),[v,Z]=(0,h.useState)(!1),[y,S]=(0,h.useState)(!1),[f,b]=h.useState(null),[P,w]=(0,h.useState)(!1),[_,k]=(0,h.useState)(!1),[B,M]=(0,h.useState)([]),[W,z]=(0,h.useState)([]),[N,I]=(0,h.useState)(null),[O,D]=(JSON.parse(localStorage.getItem("user")),(0,h.useState)([])),[L,E]=(0,h.useState)([]),F=()=>{const e={caller_name:"name",caller_email:"email_address",created_at:"created_at"},i=O.map(((i,t)=>function(e,i,t){const n={};return Object.keys(e).forEach((t=>{t in i?n[i[t]]=e[t]:n[t]=e[t]})),n}(i,e)));E(i)};(0,h.useEffect)((()=>{(async()=>{try{const e=await(0,m.ac)("api/phoneCall/getQualifiedLeads");console.log(e.data.Leads),D(e.data.Leads)}catch(e){console.log(e)}})()}),[]),(0,h.useEffect)((()=>{F()}),[O]);const[q,R]=(0,h.useState)([]);(0,h.useEffect)((()=>{T()}),[L]);const T=()=>{L.sort(((e,i)=>new Date(e.start_date)-new Date(i.start_date))),R(L)},Q=[{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,j.jsx)(n.Z,{onClick:()=>{d(null===e||void 0===e?void 0:e.row),s(!0)},children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"No Name"})},{field:"email_address",headerName:"Email",flex:1,renderCell:e=>(0,j.jsx)(n.Z,{children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"N/A"})},{field:"created_at",headerName:"Date",flex:1,renderCell:e=>{var i;return(0,j.jsx)(l.Z,{style:{color:"black"},children:(e=>{const i=new Date(e);return[i.getMonth()+1,i.getDate(),i.getFullYear()].join("/")+" "+[i.getHours(),i.getMinutes(),i.getSeconds()].join(":")})(null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.created_at)})}}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(C,{open:t,data:c,handleClose:()=>s(!1)}),(0,j.jsxs)(a.Z,{children:[(0,j.jsx)(r.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:(0,j.jsx)(l.Z,{variant:"h4",children:"Outbound-Lead-Management"})}),(0,j.jsx)(g.Z,{children:(0,j.jsx)(n.Z,{width:"100%",children:(0,j.jsx)(o.Z,{style:{height:"600px",paddingTop:"10px"},children:q&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(l.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Leads ( ",null===q||void 0===q?void 0:q.length," )"]}),(0,j.jsx)(x._$,{rows:q,columns:Q,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:p.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})]})}}}]);