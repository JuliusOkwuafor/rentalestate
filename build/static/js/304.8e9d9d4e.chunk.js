"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[304],{48304:function(e,i,t){t.r(i),t.d(i,{default:function(){return N}});var n=t(51997),l=t(41806),a=t(61113),r=t(47825),o=t(42832),s=t(73428),d=t(47131),c=t(85582),x=t(17592),p=t(17551),h=t(75419),u=t(85833),m=(t(70816),t(47313)),g=t(97890),v=t(31387),j=t(6210),Z=t(67662),y=(t(98616),t(3463),t(35460)),f=(t(78830),t(46417));t(13997);(0,x.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});var S=t(23195),b=t(9019),P=t(31095),w=t(66149),_=t(4117),C=t(96467),k=t(97762),B=t(33604);var M=e=>{const{open:i,handleClose:t,data:n}=e;return console.log({data:n}),(0,f.jsxs)(w.Z,{open:i,onClose:t,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,f.jsxs)(B.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,f.jsx)(a.Z,{style:{textTransform:"capitalize"},variant:"h2",children:null===n||void 0===n?void 0:n.name}),(0,f.jsx)(a.Z,{children:(0,f.jsx)(S.Z,{onClick:t,style:{cursor:"pointer"}})})]}),(0,f.jsx)(C.Z,{dividers:!0,children:(0,f.jsxs)(k.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,f.jsx)(a.Z,{style:{marginBottom:"15px"},variant:"h4",children:"Basic Information"}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Email"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.email_address})})]}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Budget"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.budget})})]}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Lead Quality Score"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.lead_quality_score})})]}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Other Requirements"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.other_requirements})})]}),(0,f.jsx)(a.Z,{style:{marginBottom:"15px"},variant:"h4",children:"Property Information"}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Description"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_description})})]}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Location"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_location})})]}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Market Type"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_market_type})})]}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Purpose"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_purpose})})]}),(0,f.jsxs)(b.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,f.jsx)(b.ZP,{item:!0,xs:4,children:(0,f.jsx)(a.Z,{style:{fontWeight:"bold"},variant:"p",children:"Size"})}),(0,f.jsx)(b.ZP,{item:!0,xs:8,children:(0,f.jsx)(a.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_sizes})})]})]})}),(0,f.jsx)(_.Z,{children:(0,f.jsx)(P.Z,{onClick:t,variant:"contained",sx:{backgroundColor:y.Z.info,"&:hover":{backgroundColor:y.Z.infoDark}},children:"Close"})})]})};(0,x.ZP)((e=>(0,f.jsx)(c.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:i}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:i.spacing(1),minWidth:180,color:"light"===i.palette.mode?"rgb(55, 65, 81)":i.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:i.palette.text.secondary,marginRight:i.spacing(1.5)},"&:active":{backgroundColor:(0,p.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)}}}}}));var N=()=>{const e=(0,g.s0)(),[i,t]=(0,m.useState)(!1),[c,x]=(0,m.useState)(!1),[p,y]=(0,m.useState)(null),[S,b]=(0,m.useState)(!1),[P,w]=(0,m.useState)(!1),[_,C]=m.useState(null),[k,B]=(0,m.useState)(!1),[N,W]=(0,m.useState)(!1),[z,I]=(0,m.useState)([]),[D,L]=(0,m.useState)([]),[O,E]=(0,m.useState)(null),[F,T]=(JSON.parse(localStorage.getItem("user")),(0,m.useState)([])),[q,A]=(0,m.useState)([]),Q=()=>{const e={caller_name:"name",caller_email:"email_address",created_at:"created_at"},i=F.map(((i,t)=>function(e,i,t){const n={};return Object.keys(e).forEach((t=>{t in i?n[i[t]]=e[t]:n[t]=e[t]})),n}(i,e)));A(i)};(0,m.useEffect)((()=>{(async()=>{try{const e=await(0,j.ac)("api/phoneCall/getQualifiedLeads");console.log(e.data.Leads),T(e.data.Leads)}catch(e){console.log(e)}})()}),[]),(0,m.useEffect)((()=>{Q()}),[F]);const[R,H]=(0,m.useState)([]);(0,m.useEffect)((()=>{J()}),[q]);const J=()=>{q.sort(((e,i)=>new Date(e.start_date)-new Date(i.start_date))),H(q)},Y=[{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,f.jsx)(l.Z,{onClick:()=>{y(null===e||void 0===e?void 0:e.row),x(!0)},children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"No Name"})},{field:"email_address",headerName:"Email",flex:1,renderCell:e=>(0,f.jsx)(l.Z,{children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"N/A"})},{field:"created_at",headerName:"Date",flex:1,renderCell:e=>{var i;return(0,f.jsx)(a.Z,{style:{color:"black"},children:(e=>{const i=new Date(e);return[i.getMonth()+1,i.getDate(),i.getFullYear()].join("/")+" "+[i.getHours(),i.getMinutes(),i.getSeconds()].join(":")})(null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.created_at)})}},{field:"action",headerName:"Action",flex:1,renderCell:i=>(0,f.jsx)(d.Z,{"aria-label":"delete",onClick:()=>(async i=>{const t=await(0,j.ef)("api/phoneCall/deleteQualifiedLeadsById?id=",i);t&&200===t.status?(v.Am.success("file Deleted successful"),setTimeout((()=>{e(0)}),700)):t&&404===t.response.status&&v.Am.error("file Not Found")})(i.row._id),children:(0,f.jsx)(n.Z,{})})}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(M,{open:c,data:p,handleClose:()=>x(!1)}),(0,f.jsxs)(r.Z,{children:[(0,f.jsx)(o.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:(0,f.jsx)(a.Z,{variant:"h4",children:"Outbound-Lead-Management"})}),(0,f.jsx)(Z.Z,{children:(0,f.jsx)(l.Z,{width:"100%",children:(0,f.jsx)(s.Z,{style:{height:"600px",paddingTop:"10px"},children:R&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(a.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Leads ( ",null===R||void 0===R?void 0:R.length," )"]}),(0,f.jsx)(h._$,{rows:R,columns:Y,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:u.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})]})}}}]);