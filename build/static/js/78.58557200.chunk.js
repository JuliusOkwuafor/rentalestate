"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[78],{60078:function(e,l,t){t.r(l);var a=t(41806),n=t(61113),i=t(47825),o=t(42832),r=t(73428),s=t(85582),d=t(17592),c=t(17551),u=t(75419),p=t(85833),m=t(70816),h=t.n(m),x=t(47313),v=t(97890),g=t(6210),b=t(67662),f=(t(98616),t(16633),t(5833),t(46808),t(24249),t(20011),t(46417));(0,d.ZP)((e=>(0,f.jsx)(s.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:l}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:l.spacing(1),minWidth:180,color:"light"===l.palette.mode?"rgb(55, 65, 81)":l.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:l.palette.text.secondary,marginRight:l.spacing(1.5)},"&:active":{backgroundColor:(0,c.Fq)(l.palette.primary.main,l.palette.action.selectedOpacity)}}}}}));l.default=()=>{const e=(0,v.s0)(),[l,t]=(0,x.useState)(!1),[s,d]=(0,x.useState)(!1),[c,m]=(0,x.useState)(!1),[S,_]=x.useState(null),[w,j]=(0,x.useState)(!1),[N,Z]=(0,x.useState)(!1),[y,C]=(0,x.useState)([]),[k,M]=(0,x.useState)([]),[z,D]=(0,x.useState)(null),[I,O]=(JSON.parse(localStorage.getItem("user")),(0,x.useState)([])),[E,P]=(0,x.useState)([]),F=()=>{const e=I.filter((e=>!(!e.call_analysis||"Positive"!==e.call_analysis.agent_sentiment))),l={caller_number:"phoneNumber",caller_name:"name",caller_email:"email",start_time:"start_date"},t=e.map(((e,t)=>function(e,l,t){const a={};return Object.keys(e).forEach((t=>{t in l?a[l[t]]=e[t]:a[t]=e[t]})),a}(e,l)));P(t)};(0,x.useEffect)((()=>{(async()=>{try{const e=await(0,g.ac)("api/llm/llmleadCalls");console.log(e),O(e.data.result)}catch(e){console.log(e)}})()}),[]),(0,x.useEffect)((()=>{F()}),[I]);const[Y,A]=(0,x.useState)([]);(0,x.useEffect)((()=>{R()}),[E]);const R=()=>{E.sort(((e,l)=>new Date(e.start_date)-new Date(l.start_date))),A(E)};console.log("newData",Y);const L=[{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:l=>(0,f.jsx)(a.Z,{onClick:()=>{e(`/dashboard/inbound-calls/view/${null!==l&&void 0!==l&&l.row._id?null===l||void 0===l?void 0:l.row._id:null===l||void 0===l?void 0:l.row.call_id}`)},children:null!==l&&void 0!==l&&l.value?null===l||void 0===l?void 0:l.value:"No Name"})},{field:"email",headerName:"Email",flex:1,renderCell:e=>(0,f.jsx)(a.Z,{children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"N/A"})},{field:"phoneNumber",headerName:"Phone Number",flex:1,renderCell:e=>(0,f.jsx)(a.Z,{children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"N/A"})},{field:"start_date",headerName:"Date",flex:1,renderCell:e=>{var l;return(0,f.jsx)(n.Z,{style:{color:"black"},children:h()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.start_date).format("h:mm A DD-MM-YYYY")})}}];return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(i.Z,{children:[(0,f.jsx)(o.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:(0,f.jsx)(n.Z,{variant:"h4",children:"Inbound-Lead-Management"})}),(0,f.jsx)(b.Z,{children:(0,f.jsx)(a.Z,{width:"100%",children:(0,f.jsx)(r.Z,{style:{height:"600px",paddingTop:"10px"},children:Y&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Leads ( ",null===Y||void 0===Y?void 0:Y.length," )"]}),(0,f.jsx)(u._$,{rows:Y,columns:L,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:p.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})})}}}]);