"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[281],{70281:function(e,t,i){i.r(t),i.d(t,{default:function(){return S}});var n=i(47313),a=i(9019),r=i(19860),o=i(12401),s=i(85554),l=i(7910),d=i.n(l),c=i(58446);var h=i(46417);var x=i(33497);var p=i(41806),u=i(61113),m=i(79088),g=i(17592),b=i(73428),j=i(93405),Z=i(84488);var f=()=>(0,h.jsx)(b.Z,{children:(0,h.jsx)(j.Z,{children:(0,h.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",children:[(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(Z.Z,{variant:"rectangular",width:44,height:44})}),(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(Z.Z,{variant:"rectangular",width:34,height:34})})]})}),(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(Z.Z,{variant:"rectangular",sx:{my:2},height:40})}),(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(Z.Z,{variant:"rectangular",height:30})})]})})}),y=i(76937);const P=(0,g.ZP)(x.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,borderRadius:"50%",top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{zIndex:-1,content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var v=e=>{let{isLoading:t,callData:i}=e;const n=(0,r.Z)();return(0,h.jsx)(h.Fragment,{children:t?(0,h.jsx)(f,{}):(0,h.jsx)(P,{border:!1,content:!1,children:(0,h.jsx)(p.Z,{sx:{p:2.25},children:(0,h.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(u.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:null===i||void 0===i?void 0:i.number})}),(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(m.Z,{sx:{cursor:"pointer",...n.typography.smallAvatar,backgroundColor:n.palette.secondary[200],color:n.palette.secondary.dark},children:(0,h.jsx)(y.Z,{fontSize:"inherit"})})})]})}),(0,h.jsx)(a.ZP,{item:!0,sx:{mb:1.25},children:(0,h.jsx)(u.Z,{sx:{fontSize:"1rem",fontWeight:500,color:n.palette.secondary.light,textAlign:"center"},children:null===i||void 0===i?void 0:i.title})})]})})})})};var C=()=>(0,h.jsx)(b.Z,{children:(0,h.jsx)(j.Z,{children:(0,h.jsxs)(a.ZP,{container:!0,spacing:o.dv,children:[(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:o.dv,children:[(0,h.jsx)(a.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,h.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(Z.Z,{variant:"text"})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(Z.Z,{variant:"rectangular",height:20})})]})}),(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(Z.Z,{variant:"rectangular",height:50,width:80})})]})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(Z.Z,{variant:"rectangular",height:530})})]})})});var k=e=>{let{isLoading:t,content:i}=e;const[l,p]=(0,n.useState)("today"),m=(0,r.Z)(),g=(0,s.v9)((e=>e.customization)),{navType:b}=g,{primary:j}=m.palette.text,Z=m.palette.dark.light,f=m.palette.grey[200],y=m.palette.grey[500],P=m.palette.primary[200],v=m.palette.primary.dark,k=m.palette.secondary.main,w=m.palette.secondary.light,z={height:480,type:"bar",options:{chart:{id:"bar-chart",stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"40%"}},xaxis:{type:"reports",categories:i.categories},legend:{show:!0,fontSize:"14px",fontFamily:"'Roboto', sans-serif",position:"bottom",offsetX:20,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1},grid:{show:!0}},series:i.series};return(0,n.useEffect)((()=>{const e={...z.options,colors:[P,v,k,w],xaxis:{labels:{style:{colors:[j,j,j,j,j,j,j,j,j,j,j,j]}}},yaxis:{labels:{style:{colors:[j]}}},grid:{borderColor:f},tooltip:{theme:"light"},legend:{labels:{colors:y}}};t||d().exec("bar-chart","updateOptions",e)}),[b,P,v,k,w,j,Z,f,t,y]),(0,h.jsx)(h.Fragment,{children:t?(0,h.jsx)(C,{}):(0,h.jsx)(x.Z,{children:(0,h.jsxs)(a.ZP,{container:!0,spacing:o.dv,children:[(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsxs)(a.ZP,{container:!0,alignItems:"center",xs:12,children:[(0,h.jsx)(a.ZP,{item:!0,xs:6,children:(0,h.jsx)(u.Z,{variant:"subtitle2",children:i.title})}),(0,h.jsx)(a.ZP,{item:!0,xs:6,children:(0,h.jsxs)(u.Z,{variant:"subtitle2",style:{textAlign:"right"},children:["Total Call Duration: ",i.callTime]})})]})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(c.Z,{...z})})]})})})},w=i(5842),z=i(6210);const L=(0,g.ZP)(x.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var I=e=>{let{isLoading:t,leadData:i}=e;const n=(0,r.Z)();return(0,h.jsx)(h.Fragment,{children:t?(0,h.jsx)(f,{}):(0,h.jsx)(L,{border:!1,content:!1,children:(0,h.jsx)(p.Z,{sx:{p:2.25},children:(0,h.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(a.ZP,{container:!0,justifyContent:"space-between",children:(0,h.jsx)(a.ZP,{item:!0,display:"flex",alignItems:"center"})})}),(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"center",position:"top",children:[(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(u.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:null===i||void 0===i?void 0:i.number})}),(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsx)(m.Z,{sx:{cursor:"pointer",...n.typography.smallAvatar,backgroundColor:n.palette.primary[200],color:n.palette.primary.dark},children:(0,h.jsx)(w.Z,{fontSize:"inherit"})})})]})}),(0,h.jsx)(a.ZP,{item:!0,sx:{mb:1.25},children:(0,h.jsx)(u.Z,{sx:{fontSize:"1rem",fontWeight:500,color:n.palette.primary.light,textAlign:"center"},children:i.title})})]})})})})};(0,g.ZP)(x.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));(0,g.ZP)(x.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,borderRadius:"50%",top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{zIndex:-1,content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));i(70816),i(72632);var S=()=>{(0,r.Z)();const[e,t]=(0,n.useState)(!0);(0,n.useEffect)((()=>{t(!1)}),[]);const[i,s]=(0,n.useState)({inboundCalls:[],inboundLeads:[],outboundCalls:[],outboundLeads:[]}),[l,d]=(0,n.useState)({categories:["Total Calls Received"],series:[],callTime:"",title:"Inbound Calls Report"}),[c,x]=(0,n.useState)({categories:["Answered Calls","Dailed Calls","Total Contacts Uploaded","Total Off Plan","Total Secondary Market"],series:[],callTime:"",title:"Outbound Calls Report"});JSON.parse(localStorage.getItem("user"));return(0,n.useEffect)((()=>{(async()=>{try{const{data:e}=await(0,z.ac)("api/llm/inboundCallStats"),t=e.data;s((e=>({...e,inboundCalls:{title:"Total Inbound Calls",number:t.totalCallsReceived},inboundLeads:{title:"Total Inbound Leads",number:t.totalInboundCallLead}}))),d((e=>({...e,series:[{name:"Inbound Call Data",data:[t.totalCallsReceived]}],callTime:`${t.totalCallDuration} mins`})))}catch(e){console.log(e)}})(),(async()=>{try{const{data:e}=await(0,z.ac)("api/phoneCall/outboundStats"),t=e.data;s((e=>({...e,outboundCalls:{title:"Total Outbound Calls",number:t.dialedCalls},outboundLeads:{title:"Total Outbound Leads",number:t.totalQualifiedOutboundLeads}}))),x((e=>({...e,series:[{name:"Outbound Call Data",data:[t.answeredCalls,t.dialedCalls,t.totalContactsUploaded,t.totalOffPlan,t.totalSecondaryMarket]}],callTime:`${t.totalCallDuration} mins`})))}catch(e){console.log(e)}})()}),[]),(0,h.jsxs)(a.ZP,{container:!0,spacing:o.dv,children:[(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsxs)(a.ZP,{container:!0,spacing:o.dv,children:[(0,h.jsx)(a.ZP,{item:!0,lg:3,md:6,sm:6,xs:12,children:(0,h.jsx)(I,{isLoading:e,leadData:i.inboundLeads})}),(0,h.jsx)(a.ZP,{item:!0,lg:3,md:6,sm:6,xs:12,children:(0,h.jsx)(v,{isLoading:e,callData:i.inboundCalls})}),(0,h.jsx)(a.ZP,{item:!0,lg:3,md:6,sm:6,xs:12,children:(0,h.jsx)(I,{isLoading:e,leadData:i.outboundLeads})}),(0,h.jsx)(a.ZP,{item:!0,lg:3,md:6,sm:6,xs:12,children:(0,h.jsx)(v,{isLoading:e,callData:i.outboundCalls})})]})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsxs)(a.ZP,{container:!0,spacing:o.dv,children:[(0,h.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,h.jsx)(k,{isLoading:e,content:l})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,h.jsx)(k,{isLoading:e,content:c})})]})})]})}}}]);