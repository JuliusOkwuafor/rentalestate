"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[566],{95566:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var l=n(47313),i=n(51997),a=n(41806),o=n(47825),s=n(42832),r=n(61113),c=n(31095),d=n(73428),x=n(75419),p=n(85833),h=n(97890),u=n(6210),m=n(67662),g=n(98616),j=n(67848),Z=n(85582),v=n(17592),b=n(17551),f=n(47131),C=n(71585),S=n(69937),y=n(50034),w=n(46064),k=n(23195),N=n(9019),P=n(66149),I=n(4117),M=n(96467),z=n(97762),O=n(33604),A=(n(70816),n(35460)),B=n(46417);var T=e=>{const{open:t,handleClose:n,data:l}=e;return(0,B.jsxs)(P.Z,{open:t,fullWidth:!0,onClose:n,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,B.jsxs)(O.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,B.jsx)(r.Z,{style:{textTransform:"capitalize"},variant:"h2",children:null===l||void 0===l?void 0:l.name}),(0,B.jsx)(r.Z,{children:(0,B.jsx)(k.Z,{onClick:n,style:{cursor:"pointer"}})})]}),(0,B.jsx)(M.Z,{dividers:!0,children:(0,B.jsxs)(z.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,B.jsx)(r.Z,{style:{marginBottom:"15px"},variant:"h4",children:"Information"}),(0,B.jsxs)(N.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,B.jsx)(N.ZP,{item:!0,xs:4,children:(0,B.jsx)(r.Z,{style:{fontWeight:"bold"},variant:"p",children:"Email"})}),(0,B.jsx)(N.ZP,{item:!0,xs:8,children:(0,B.jsx)(r.Z,{variant:"p",children:null===l||void 0===l?void 0:l.email})})]}),(0,B.jsxs)(N.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,B.jsx)(N.ZP,{item:!0,xs:4,children:(0,B.jsx)(r.Z,{style:{fontWeight:"bold"},variant:"p",children:"Phone Number"})}),(0,B.jsx)(N.ZP,{item:!0,xs:8,children:(0,B.jsx)(r.Z,{variant:"p",children:null===l||void 0===l?void 0:l.phoneNumber})})]})]})}),(0,B.jsx)(I.Z,{children:(0,B.jsx)(c.Z,{onClick:n,variant:"contained",sx:{backgroundColor:A.Z.info,"&:hover":{backgroundColor:A.Z.infoDark}},children:"Close"})})]})};(0,v.ZP)((e=>(0,B.jsx)(Z.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:(0,b.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));var W=()=>{const[e,t]=(0,l.useState)([]),[n,Z]=l.useState(null),[v,b]=((0,h.s0)(),(0,l.useState)(!1)),[k,N]=(0,l.useState)(!1),[P,I]=(0,l.useState)(null),[M,z]=(0,l.useState)(!1),[O,A]=(0,l.useState)(null),[W,E]=(0,l.useState)(!1),[F,R]=(0,l.useState)(!1),[_,q]=(0,l.useState)(!1),[D,J]=(0,l.useState)([]),[Q,$]=(0,l.useState)(null),[G,H]=(JSON.parse(localStorage.getItem("user")),(0,l.useState)([])),[K,L]=(0,l.useState)([]);(0,l.useEffect)((()=>{(async()=>{try{const e=await(0,u.ac)("api/contact/getAllAgentContacts");H(e.data.data.contacts)}catch(e){console.log(e)}})()}),[v,W,M,F,_]);const U=[{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,B.jsx)(a.Z,{onClick:()=>{I(null===e||void 0===e?void 0:e.row),N(!0)},children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"No Name"})},{field:"phoneNumber",headerName:"Phone Number",flex:1},{field:"email",headerName:"Email Address",flex:1},{field:"action",headerName:"Action",flex:1,renderCell:e=>(0,B.jsx)(f.Z,{"aria-label":"delete",onClick:()=>(async e=>await(0,u.ef)("api/lead/deletebadleads",e))(e.row._id),children:(0,B.jsx)(i.Z,{})})}];return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(T,{open:k,data:P,handleClose:()=>N(!1)}),(0,B.jsx)(j.Z,{open:v,handleClose:()=>b(!1)}),(0,B.jsx)(y.Z,{open:W,handleClose:()=>E(!1),id:O}),(0,B.jsx)(w.Z,{open:M,handleClose:()=>z(!1),data:e}),(0,B.jsx)(S.Z,{open:F,onClose:()=>R(!1),id:Q}),(0,B.jsx)(C.Z,{open:_,onClose:()=>q(!1),id:Q}),(0,B.jsxs)(o.Z,{children:[(0,B.jsxs)(s.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,B.jsx)(r.Z,{variant:"h4",children:"Contact-Management"}),(0,B.jsx)(s.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,B.jsx)(c.Z,{variant:"contained",startIcon:(0,B.jsx)(g.Z,{icon:"eva:plus-fill"}),onClick:()=>b(!0),children:"New Contact"})})]}),(0,B.jsx)(m.Z,{children:(0,B.jsx)(a.Z,{width:"100%",children:(0,B.jsxs)(d.Z,{style:{height:"600px",paddingTop:"15px"},children:[(0,B.jsxs)(r.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Contacts ( ",null===G||void 0===G?void 0:G.length," )"]}),(0,B.jsx)(x._$,{rows:G,columns:U,checkboxSelection:!0,getRowId:e=>null===e||void 0===e?void 0:e._id,slots:{toolbar:p.n},slotProps:{toolbar:{showQuickFilter:!0,printOptions:{disableToolbarButton:!0}}}})]})})})]})]})}}}]);