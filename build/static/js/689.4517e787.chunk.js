"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[689],{24689:function(e,l,a){a.r(l);var n=a(61113),t=a(41806),i=a(47825),r=a(42832),d=a(73428),o=a(75419),c=a(85833),s=a(70816),u=a.n(s),h=a(47313),m=a(6210),v=a(67662),x=a(46417);l.default=()=>{const[e,l]=(0,h.useState)([]),[a,s]=(0,h.useState)([]),p=e=>{const l={caller_number:"phoneNumber",caller_duration:"call_duration",caller_summary:"call_summary",created_at:"created_at"},a=e.map(((e,a)=>function(e,l){const a={};return Object.keys(e).forEach((n=>{n in l?a[l[n]]=e[n]:a[n]=e[n]})),a}(e,l)));s(a)};(0,h.useEffect)((()=>{(async()=>{try{const e=await(0,m.ac)("api/lead/badleads");l(e.data.data.leadsData)}catch(e){console.log(e)}})()}),[]),(0,h.useEffect)((()=>{p(e)}),[e]);const[f,j]=(0,h.useState)([]);(0,h.useEffect)((()=>{_(a)}),[a]);const _=e=>{e.sort(((e,l)=>new Date(e.created_at)-new Date(l.created_at))),j(e)},b=[{field:"phoneNumber",headerName:"Phone Number",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,x.jsx)(n.Z,{children:null!==e&&void 0!==e&&e.value?(0,x.jsx)("a",{href:`tel:${null===e||void 0===e?void 0:e.value}`,children:null===e||void 0===e?void 0:e.value}):"N/A"})},{field:"call_duration",headerName:"Call Duration",flex:1,renderCell:e=>(0,x.jsx)(t.Z,{children:null!==e&&void 0!==e&&e.value?`${null===e||void 0===e?void 0:e.value} mins`:"N/A"})},{field:"call_summary",headerName:"Call Summary",flex:2,renderCell:e=>(0,x.jsx)(t.Z,{style:{textWrap:"wrap"},children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"N/A"})},{field:"created_at",headerName:"Date",flex:1,renderCell:e=>{var l;return(0,x.jsx)(n.Z,{style:{color:"black"},children:u()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.created_at).format("h:mm A DD-MM-YYYY")})}}];return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(i.Z,{children:[(0,x.jsx)(r.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:(0,x.jsx)(n.Z,{variant:"h4",children:"No-Answer"})}),(0,x.jsx)(v.Z,{children:(0,x.jsx)(t.Z,{width:"100%",children:(0,x.jsx)(d.Z,{style:{height:"600px",paddingTop:"10px"},children:e&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(n.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Leads ( ",null===e||void 0===e?void 0:e.length," )"]}),(0,x.jsx)(o._$,{rows:f,columns:b,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:c.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})})}}}]);