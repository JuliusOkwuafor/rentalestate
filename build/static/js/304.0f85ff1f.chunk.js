"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[304],{48304:function(e,i,t){t.r(i),t.d(i,{default:function(){return M}});var n=t(41806),l=t(61113),a=t(47825),r=t(42832),o=t(73428),s=t(85582),d=t(17592),c=t(17551),x=t(75419),p=t(85833),h=t(70816),m=t.n(h),u=t(47313),g=t(97890),v=t(6210),j=t(67662),Z=(t(98616),t(3463),t(31387),t(35460)),y=(t(78830),t(46417));t(13997);(0,d.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});var S=t(23195),f=t(9019),b=t(31095),P=t(66149),w=t(4117),_=t(96467),C=t(97762),k=t(33604);var B=e=>{const{open:i,handleClose:t,data:n}=e;return console.log({data:n}),(0,y.jsxs)(P.Z,{open:i,onClose:t,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,y.jsxs)(k.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(l.Z,{style:{textTransform:"capitalize"},variant:"h2",children:null===n||void 0===n?void 0:n.name}),(0,y.jsx)(l.Z,{children:(0,y.jsx)(S.Z,{onClick:t,style:{cursor:"pointer"}})})]}),(0,y.jsx)(_.Z,{dividers:!0,children:(0,y.jsxs)(C.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,y.jsx)(l.Z,{style:{marginBottom:"15px"},variant:"h4",children:"Basic Information"}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Email"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.email_address})})]}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Budget"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.budget})})]}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Lead Quality Score"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.lead_quality_score})})]}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Other Requirements"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.other_requirements})})]}),(0,y.jsx)(l.Z,{style:{marginBottom:"15px"},variant:"h4",children:"Property Information"}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Description"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_description})})]}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Location"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_location})})]}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Market Type"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_market_type})})]}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Purpose"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_purpose})})]}),(0,y.jsxs)(f.ZP,{style:{marginBottom:"15px"},container:!0,rowSpacing:3,columnSpacing:{xs:12},children:[(0,y.jsx)(f.ZP,{item:!0,xs:4,children:(0,y.jsx)(l.Z,{style:{fontWeight:"bold"},variant:"p",children:"Size"})}),(0,y.jsx)(f.ZP,{item:!0,xs:8,children:(0,y.jsx)(l.Z,{variant:"p",children:null===n||void 0===n?void 0:n.property_sizes})})]})]})}),(0,y.jsx)(w.Z,{children:(0,y.jsx)(b.Z,{onClick:t,variant:"contained",sx:{backgroundColor:Z.Z.info,"&:hover":{backgroundColor:Z.Z.infoDark}},children:"Close"})})]})};(0,d.ZP)((e=>(0,y.jsx)(s.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:i}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:i.spacing(1),minWidth:180,color:"light"===i.palette.mode?"rgb(55, 65, 81)":i.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:i.palette.text.secondary,marginRight:i.spacing(1.5)},"&:active":{backgroundColor:(0,c.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)}}}}}));var M=()=>{(0,g.s0)();const[e,i]=(0,u.useState)(!1),[t,s]=(0,u.useState)(!1),[d,c]=(0,u.useState)(null),[h,Z]=(0,u.useState)(!1),[S,f]=(0,u.useState)(!1),[b,P]=u.useState(null),[w,_]=(0,u.useState)(!1),[C,k]=(0,u.useState)(!1),[M,W]=(0,u.useState)([]),[z,N]=(0,u.useState)([]),[D,I]=(0,u.useState)(null),[O,E]=(JSON.parse(localStorage.getItem("user")),(0,u.useState)([])),[L,q]=(0,u.useState)([]),F=()=>{const e={caller_name:"name",caller_email:"email_address",start_time:"start_date"},i=O.map(((i,t)=>function(e,i,t){const n={};return Object.keys(e).forEach((t=>{t in i?n[i[t]]=e[t]:n[t]=e[t]})),n}(i,e)));q(i)};(0,u.useEffect)((()=>{(async()=>{try{const e=await(0,v.ac)("api/phoneCall/getQualifiedLeads");E(e.data.Leads)}catch(e){console.log(e)}})()}),[]),(0,u.useEffect)((()=>{F()}),[O]);const[R,T]=(0,u.useState)([]);(0,u.useEffect)((()=>{Y()}),[L]);const Y=()=>{L.sort(((e,i)=>new Date(e.start_date)-new Date(i.start_date))),T(L)};console.log("newData",R);const Q=[{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,y.jsx)(n.Z,{onClick:()=>{c(null===e||void 0===e?void 0:e.row),s(!0)},children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"No Name"})},{field:"email_address",headerName:"Email",flex:1,renderCell:e=>(0,y.jsx)(n.Z,{children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"N/A"})},{field:"start_date",headerName:"Date",flex:1,renderCell:e=>{var i;return(0,y.jsx)(l.Z,{style:{color:"black"},children:m()(null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.start_date).format("h:mm A DD-MM-YYYY")})}}];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(B,{open:t,data:d,handleClose:()=>s(!1)}),(0,y.jsxs)(a.Z,{children:[(0,y.jsx)(r.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:(0,y.jsx)(l.Z,{variant:"h4",children:"Outbound-Lead-Management"})}),(0,y.jsx)(j.Z,{children:(0,y.jsx)(n.Z,{width:"100%",children:(0,y.jsx)(o.Z,{style:{height:"600px",paddingTop:"10px"},children:R&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Leads ( ",null===R||void 0===R?void 0:R.length," )"]}),(0,y.jsx)(x._$,{rows:R,columns:Q,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:p.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})]})}}}]);