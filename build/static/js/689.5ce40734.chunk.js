"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[689],{24689:function(e,t,a){a.r(t);var l=a(51997),n=a(61113),i=a(47825),c=a(42832),o=a(41806),s=a(73428),r=a(47131),d=a(75419),u=a(85833),h=a(70816),m=a.n(h),f=a(47313),p=a(97890),x=a(6210),g=a(67662),b=a(31387),j=a(46417);t.default=()=>{const e=(0,p.s0)(),[t,a]=(0,f.useState)([]),[h,w]=(0,f.useState)([]),v=e=>{const t={caller_name:"name",caller_email:"email",caller_phone:"phoneNumber",created_at:"createdAt"},a=e.map(((e,a)=>function(e,t){const a={};return Object.keys(e).forEach((l=>{l in t?a[t[l]]=e[l]:a[l]=e[l]})),a}(e,t)));w(a)};(0,f.useEffect)((()=>{(async()=>{try{const e=await(0,x.ac)("api/contact/getAllAgentContacts");console.log(e.data.data.contacts),a(e.data.data.contacts)}catch(e){console.log(e)}})()}),[]),(0,f.useEffect)((()=>{v(t)}),[t]);const[N,_]=(0,f.useState)([]);(0,f.useEffect)((()=>{Z(h)}),[h]);const Z=e=>{_(e)},k=[{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize"},{field:"phoneNumber",headerName:"Phone Number",flex:1},{field:"email",headerName:"Email",flex:1},{field:"created_at",headerName:"Date",flex:1,renderCell:e=>{var t;return(0,j.jsx)(n.Z,{style:{color:"black"},children:m()(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.created_at).format("h:mm A DD-MM-YYYY")})}},{field:"action",headerName:"Action",flex:1,renderCell:t=>(0,j.jsx)(r.Z,{"aria-label":"delete",onClick:()=>(async t=>{const a=await(0,x.ef)("api/contact/deleteNoAnswerById?id=",t);a&&200===a.status?(b.Am.success("file Deleted successful"),setTimeout((()=>{e(0)}),700)):a&&404===a.response.status&&b.Am.error("file Not Found")})(t.row._id),children:(0,j.jsx)(l.Z,{})})}];return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(i.Z,{children:[(0,j.jsx)(c.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:(0,j.jsx)(n.Z,{variant:"h4",children:"No-Answer"})}),(0,j.jsx)(g.Z,{children:(0,j.jsx)(o.Z,{width:"100%",children:(0,j.jsx)(s.Z,{style:{height:"600px",paddingTop:"10px"},children:t&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(n.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Not answered calls ( ",null===t||void 0===t?void 0:t.length," )"]}),(0,j.jsx)(d._$,{rows:N,columns:k,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:u.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0,printOptions:{disableToolbarButton:!0}}}})]})})})})]})})}}}]);