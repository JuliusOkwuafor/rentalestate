"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[689],{24689:function(e,t,a){a.r(t);var l=a(51997),n=a(61113),o=a(47825),i=a(42832),s=a(41806),c=a(73428),r=a(47131),d=a(75419),u=a(85833),h=(a(70816),a(47313)),m=a(97890),f=a(31387),p=a(6210),g=a(67662),x=a(46417);t.default=()=>{const e=(0,m.s0)(),[t,a]=(0,h.useState)([]),[j,w]=(0,h.useState)([]),b=e=>{const t={caller_name:"name",caller_email:"email",caller_phone:"phoneNumber",created_at:"created_at"},a=e.map(((e,a)=>function(e,t){const a={};return Object.keys(e).forEach((l=>{l in t?a[t[l]]=e[l]:a[l]=e[l]})),a}(e,t)));w(a)};(0,h.useEffect)((()=>{(async()=>{try{const e=await(0,p.ac)("api/contact/getAllAgentContacts");console.log(e.data.data.contacts),a(e.data.data.contacts)}catch(e){console.log(e)}})()}),[]),(0,h.useEffect)((()=>{b(t)}),[t]);const[v,N]=(0,h.useState)([]);(0,h.useEffect)((()=>{_(j)}),[j]);const _=e=>{N(e)},Z=[{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize"},{field:"phoneNumber",headerName:"Phone Number",flex:1},{field:"email",headerName:"Email",flex:1},{field:"created_at",headerName:"Date",flex:1,renderCell:e=>{var t;return(0,x.jsx)(n.Z,{style:{color:"black"},children:(e=>{console.log(e);const t=new Date(e);return[t.getMonth()+1,t.getDate(),t.getFullYear()].join("/")+" "+[t.getHours(),t.getMinutes(),t.getSeconds()].join(":")})(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.created_at)})}},{field:"action",headerName:"Action",flex:1,renderCell:t=>(0,x.jsx)(r.Z,{"aria-label":"delete",onClick:()=>(async t=>{const a=await(0,p.ef)("api/contact/deleteNoAnswerById?id=",t);a&&200===a.status?(f.Am.success("file Deleted successful"),setTimeout((()=>{e(0)}),700)):a&&404===a.response.status&&f.Am.error("file Not Found")})(t.row._id),children:(0,x.jsx)(l.Z,{})})}];return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(i.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:(0,x.jsx)(n.Z,{variant:"h4",children:"No-Answer"})}),(0,x.jsx)(g.Z,{children:(0,x.jsx)(s.Z,{width:"100%",children:(0,x.jsx)(c.Z,{style:{height:"600px",paddingTop:"10px"},children:t&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(n.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Not answered calls ( ",null===t||void 0===t?void 0:t.length," )"]}),(0,x.jsx)(d._$,{rows:v,columns:Z,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:u.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0,printOptions:{disableToolbarButton:!0}}}})]})})})})]})})}}}]);